(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{28:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),c=n(10),r=n.n(c),i=(n(28),n(13)),s=n(8),u=n(22),l=n.n(u),m=n(23),b=n.n(m),j=n(4),d=n(5),p=n(7),h=n(6),O=n(1),f=function(e){Object(p.a)(n,e);var t=Object(h.a)(n);function n(){return Object(j.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this;return Object(O.jsx)("header",{className:"Searchbar",children:Object(O.jsxs)("form",{className:"SearchForm",onSubmit:function(t){return e.props.onSubmit(t)},children:[Object(O.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(O.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(O.jsx)("input",{className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})}}]),n}(a.Component),g=function(e){Object(p.a)(n,e);var t=Object(h.a)(n);function n(){return Object(j.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this;return Object(O.jsx)("li",{className:"ImageGalleryItem",children:Object(O.jsx)("img",{onClick:function(t){e.props.modalFn(t.target.attributes[2].value),console.log(t)},src:this.props.imageLink,alt:this.props.imageAlt,"data-large":this.props.largeImageURL,className:"ImageGalleryItem-image"})})}}]),n}(a.Component);g.defaultProps={imageLink:" ",imageAlt:" "};var v=g,y=n(2),k=n.n(y),x=function(e){Object(p.a)(n,e);var t=Object(h.a)(n);function n(){return Object(j.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.props.loader(!0)}},{key:"render",value:function(){var e=this;return Object(O.jsx)("ul",{className:"ImageGallery",children:this.props.imagesArray.map((function(t){return Object(O.jsx)(v,{imageLink:t.webformatURL,imagAlt:t.tags,largeImageURL:t.largeImageURL,modalFn:e.props.modalFn},t.id)}))})}}]),n}(a.Component);x.defaultProps={imagesArray:k.a.array};var w=x,S=function(e){Object(p.a)(n,e);var t=Object(h.a)(n);function n(){return Object(j.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this;return Object(O.jsx)("button",{className:"Button",type:"button",onClick:function(){return e.props.fn()},children:"Load more"})}}]),n}(a.Component),F=document.querySelector("#modal-root"),L=function(e){Object(p.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(j.a)(this,n);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).handleKeyDown=function(t){"Escape"===t.code&&e.props.closeFn()},e.handleBackdrop=function(t){t.currentTarget===t.target&&e.props.closeFn()},e}return Object(d.a)(n,[{key:"componentDidMount",value:function(){console.log("Modal componentdidMount"),window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){console.log(" Modal componentWillUnmount"),window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){return Object(c.createPortal)(Object(O.jsx)("div",{className:"Overlay",onClick:this.handleBackdrop,children:Object(O.jsx)("div",{className:"Modal",children:this.props.children})}),F)}}]),n}(a.Component);function N(){var e=Object(a.useState)(""),t=Object(s.a)(e,2),n=t[0],o=t[1],c=Object(a.useState)([]),r=Object(s.a)(c,2),u=r[0],m=r[1],j=Object(a.useState)(!1),d=Object(s.a)(j,2),p=d[0],h=d[1],g=Object(a.useState)(""),v=Object(s.a)(g,2),y=v[0],k=v[1],x=Object(a.useState)(!1),F=Object(s.a)(x,2),N=F[0],I=F[1],C=Object(a.useState)(1),M=Object(s.a)(C,2),A=M[0],D=M[1],U=function(){h((function(e){return{showModal:!e.showModal}}))},E=function(e){return I((function(t){t.showLoader;return{showLoader:e}}))},B=function(e,t){var n=0;n=1===t?0:document.documentElement.scrollHeight+144;(function(e,t){return b.a.get("".concat("https://pixabay.com/api/","?key=").concat("22486349-475ac57b79bf68bd3ecb1002b","&q=").concat(e,"&image_type=").concat("photo","&page=").concat(t,"&orientation=").concat("horizontal","&per_page=").concat(12))})(e,t).then((function(e){!function(e){var t,n=e.data.hits;t=[].concat(Object(i.a)(u),Object(i.a)(n)),m((function(e){return e.images,{images:t}}))}(e),true(!1),D((function(e){return{currentPage:e+1}})),window.scrollTo({top:n,behavior:"smooth"})}))};return Object(O.jsxs)("div",{className:"App",children:[p&&Object(O.jsx)(L,{closeFn:U,loader:E,children:Object(O.jsx)("img",{src:y,alt:"modal"})}),Object(O.jsx)(f,{onSubmit:function(e){e.preventDefault();var t=e.target[1].value;o({searchWords:t});B(t,1),e.target.reset()}}),""!==n&&Object(O.jsx)(w,{loader:E,imagesArray:u,modalFn:function(e){!function(e){k((function(t){return t.modalImage,{modalImage:e}}))}(e),U()}}),N&&Object(O.jsx)(l.a,{}),""!==n&&Object(O.jsx)(S,{fn:function(){E(!0),B(n,A)}})]})}r.a.render(Object(O.jsx)(o.a.StrictMode,{children:Object(O.jsx)(N,{})}),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.d51b9b4d.chunk.js.map