(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{28:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(10),o=n.n(r),i=(n(28),n(13)),s=n(8),u=n(22),l=n.n(u),b=n(23),j=n.n(b),m=n(4),p=n(5),d=n(7),h=n(6),O=n(1),f=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){var e=this;return Object(O.jsx)("header",{className:"Searchbar",children:Object(O.jsxs)("form",{className:"SearchForm",onSubmit:function(t){return e.props.onSubmit(t)},children:[Object(O.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(O.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(O.jsx)("input",{className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})}}]),n}(a.Component),g=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){var e=this;return Object(O.jsx)("li",{className:"ImageGalleryItem",children:Object(O.jsx)("img",{onClick:function(t){e.props.modalFn(t.target.attributes[2].value)},src:this.props.imageLink,alt:this.props.imageAlt,"data-large":this.props.largeImageURL,className:"ImageGalleryItem-image"})})}}]),n}(a.Component);g.defaultProps={imageLink:" ",imageAlt:" "};var v=g,y=n(2),x=n.n(y),k=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"componentDidMount",value:function(){this.props.loader(!0)}},{key:"render",value:function(){var e=this;return Object(O.jsx)("ul",{className:"ImageGallery",children:this.props.imagesArray.map((function(t){var n=t.id,a=t.webformatURL,c=t.tags,r=t.largeImageURL;return Object(O.jsx)(v,{imageLink:a,imagAlt:c,largeImageURL:r,modalFn:e.props.modalFn},n)}))})}}]),n}(a.Component);k.defaultProps={imagesArray:x.a.array};var S=k,w=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(m.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){var e=this;return Object(O.jsx)("button",{className:"Button",type:"button",onClick:function(){return e.props.fn()},children:"Load more"})}}]),n}(a.Component),N=document.querySelector("#modal-root");function F(e){var t=e.closeFn,n=e.children;function c(e){"Escape"===e.code&&t()}return Object(a.useEffect)((function(){return window.addEventListener("keydown",c),function(){window.removeEventListener("keydown",c)}})),Object(r.createPortal)(Object(O.jsx)("div",{className:"Overlay",onClick:function(e){e.currentTarget===e.target&&t()},children:Object(O.jsx)("div",{className:"Modal",children:n})}),N)}function L(){var e=Object(a.useState)(""),t=Object(s.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)([]),o=Object(s.a)(r,2),u=o[0],b=o[1],m=Object(a.useState)(!1),p=Object(s.a)(m,2),d=p[0],h=p[1],g=Object(a.useState)(""),v=Object(s.a)(g,2),y=v[0],x=v[1],k=Object(a.useState)(!1),N=Object(s.a)(k,2),L=N[0],I=N[1],C=Object(a.useState)(1),A=Object(s.a)(C,2),E=A[0],P=A[1],R=function(){h(!d)},U=function(e){return I(e)},G=function(e,t){U(!0),function(e,t){return j.a.get("".concat("https://pixabay.com/api/","?key=").concat("22486349-475ac57b79bf68bd3ecb1002b","&q=").concat(e,"&image_type=").concat("photo","&page=").concat(t,"&orientation=").concat("horizontal","&per_page=").concat(12))}(e,t).then((function(e){U(!1);var t=e.data.hits;b((function(e){return[].concat(Object(i.a)(e),Object(i.a)(t))})),P((function(e){return e+1}))})).finally((function(){E>1&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}))};return Object(O.jsxs)("div",{className:"App",children:[d&&Object(O.jsx)(F,{closeFn:R,loader:U,children:Object(O.jsx)("img",{src:y,alt:"modal"})}),Object(O.jsx)(f,{onSubmit:function(e){e.preventDefault(),b([]);var t=e.target[1].value;c(t);G(t,1),e.target.reset()}}),""!==n&&Object(O.jsx)(S,{loader:U,imagesArray:u,modalFn:function(e){!function(e){x(e)}(e),R()}}),L&&Object(O.jsx)(l.a,{}),""!==n&&Object(O.jsx)(w,{fn:function(){U(!0),G(n,E)}})]})}F.defaultProps={children:null},o.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(L,{})}),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.c542ee1b.chunk.js.map